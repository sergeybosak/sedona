!function(){function e(){this.classList.remove("form-input-error"),this.oninput=null}function t(e){var t=e.querySelector("input");u(t.value)||(t.classList.contains("form-input-error")&&t.oninput(),t.value=0)}function n(e){var t=e.querySelector("input");t.value=+t.value+1}function o(e){var t=e.querySelector("input");+t.value<=0||(t.value=+t.value-1)}function i(){return alert("Заглушка для модуля установки даты"),!0}function u(e){return!isNaN(+e)&&""!==e&&+e>=0}function r(e){return""!==e}function l(e){return e.classList.contains("form-input-counter")?u(e.value):e.classList.contains("form-input-date")?r(e.value):void 0}var c=document.getElementById("choose-hotel"),s=document.getElementById("hotels-filters");if(c&&(c.addEventListener("click",function(e){var u=e.target;return u.classList.contains("btn-toggle")?(e.preventDefault(),popup=c.querySelector(".choose-hotel-popup"),popup.classList.toggle("popup-hide"),popup.classList.toggle("popup-show"),void(popup.classList.contains("popup-show")&&popup.querySelector("input").focus())):u.classList.contains("icon-minus")?(t(u.parentNode),void o(u.parentNode)):u.classList.contains("icon-plus")?(t(u.parentNode),void n(u.parentNode)):u.classList.contains("icon-calendar")?void i(u.parentNode):void 0}),window.addEventListener("keydown",function(e){e.target;return 27===e.keyCode?(popup=c.querySelector(".choose-hotel-popup"),void(popup.classList.contains("popup-show")&&(popup.classList.remove("popup-show"),popup.classList.add("popup-hide")))):void 0}),c.querySelector("form").addEventListener("submit",function(t){for(var n=(t.target,c.querySelectorAll(".form-input")),o=0,i=n.length;i>o;o++)if(!l(n[o]))return t.preventDefault(),n[o].focus(),n[o].classList.add("form-input-error"),n[o].oninput=e,void alert("поле заполнено неверно")})),s){var a=20,p=s.querySelector(".range"),d=p.querySelector(".scale"),m=d.querySelector(".scale-slider-min"),v=d.querySelector(".scale-slider-max");d.addEventListener("mousedown",function(e){var t=p.getBoundingClientRect().width-0*a,n={curr:m.getBoundingClientRect().left,min:p.getBoundingClientRect().left,max:v.getBoundingClientRect().right-2*a},o={curr:v.getBoundingClientRect().right,min:m.getBoundingClientRect().left+2*a,max:p.getBoundingClientRect().right};if(e.target===m||e.target===v){if(e.target===m){var i=e.clientX-n.curr;document.onmousemove=function(e){return e.clientX-i<n.min?void(d.style.left="0%"):e.clientX-i>n.max?void(d.style.left=100*(n.max-n.min)/t+"%"):void(d.style.left=100*(e.clientX-i-n.min)/t+"%")}}if(e.target===v){var i=e.clientX-o.curr;document.onmousemove=function(e){return e.clientX-i>o.max?void(d.style.right="0%"):e.clientX-i<o.min?void(d.style.right=100*(o.max-o.min)/t+"%"):void(d.style.right=100*(o.max-e.clientX+i)/t+"%")}}document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}})}}();
